<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>RotHub</title>
	<link rel="stylesheet" href="styles.css">
</head>

<body>

	<header>
		<a href="index.html" class="logo">Rot<span>Hub</span></a>
		<div class="search-bar">
			<input type="text" placeholder="Search...">
			<button>üîç</button>
		</div>
		<div class="auth-buttons">
			<a href="login.html">Login</a>
			<a href="signup.html">Sign Up</a>
			<a href="#">Upload</a>
		</div>
	</header>

	<nav>
		<a href="index.html">Home</a>
		<a href="#">Videos</a>
		<a href="categories/indexCategorie.html">Categories</a>
		<a href="photo&gif/photosGifs.html">Photos & GIFs</a>
	</nav>

	<main>
		<div class="videos">
			<h2>Videos Being Watched</h2>
			<div class="video-grid">
<<<<<<< HEAD

				<div class="video-item" data-video-id="video1">
					<video controls>
=======
				<!-- Vid√©o 1 -->
				<div class="video-item">
					<video controls onclick="incrementView('1')">
>>>>>>> a5b61bc (Mise √† jour du Dockerfile pour installer Apache, Node.js et Redis, ajout des scripts de d√©marrage, et cr√©ation des fichiers backend pour g√©rer les vues des vid√©os. Modification de index.html pour int√©grer la fonctionnalit√© d'incr√©mentation des vues et mise √† jour du script de d√©ploiement pour exposer les ports n√©cessaires. Ajout d'une nouvelle vid√©o.)
						<source src="/videos/Video1.mp4" type="video/mp4">
						Votre navigateur ne supporte pas la lecture vid√©o.
					</video>
					<div class="video-info">
						<h3>Les 12 coups de midi</h3>
<<<<<<< HEAD
						<span class="view-count"></span>
					</div>
				</div>

				<div class="video-item" data-video-id="video2">
					<video controls>
=======
						<span>Vues : <span id="views-1">0</span></span>
					</div>
				</div>

				<!-- Vid√©o 2 -->
				<div class="video-item">
					<video controls onclick="incrementView('2')">
>>>>>>> a5b61bc (Mise √† jour du Dockerfile pour installer Apache, Node.js et Redis, ajout des scripts de d√©marrage, et cr√©ation des fichiers backend pour g√©rer les vues des vid√©os. Modification de index.html pour int√©grer la fonctionnalit√© d'incr√©mentation des vues et mise √† jour du script de d√©ploiement pour exposer les ports n√©cessaires. Ajout d'une nouvelle vid√©o.)
						<source src="/videos/Video2.mp4" type="video/mp4">
						Votre navigateur ne supporte pas la lecture vid√©o.
					</video>
					<div class="video-info">
						<h3>NORMAN - LUIGI clash MARIO</h3>
<<<<<<< HEAD
						<span class="view-count"></span>
					</div>
				</div>

				<div class="video-item" data-video-id="video3">
					<video controls>
=======
						<span>Vues : <span id="views-2">0</span></span>
					</div>
				</div>

				<!-- Vid√©o 3 -->
				<div class="video-item">
					<video controls onclick="incrementView('3')">
>>>>>>> a5b61bc (Mise √† jour du Dockerfile pour installer Apache, Node.js et Redis, ajout des scripts de d√©marrage, et cr√©ation des fichiers backend pour g√©rer les vues des vid√©os. Modification de index.html pour int√©grer la fonctionnalit√© d'incr√©mentation des vues et mise √† jour du script de d√©ploiement pour exposer les ports n√©cessaires. Ajout d'une nouvelle vid√©o.)
						<source src="/videos/Video3.mp4" type="video/mp4">
						Votre navigateur ne supporte pas la lecture vid√©o.
					</video>
					<div class="video-info">
						<h3>Brr Brr Patapime</h3>
<<<<<<< HEAD
						<span class="view-count"></span>
					</div>
				</div>

				<div class="video-item" data-video-id="video4">
					<video controls>
=======
						<span>Vues : <span id="views-3">0</span></span>
					</div>
				</div>

				<!-- Vid√©o 4 -->
				<div class="video-item">
					<video controls onclick="incrementView('4')">
>>>>>>> a5b61bc (Mise √† jour du Dockerfile pour installer Apache, Node.js et Redis, ajout des scripts de d√©marrage, et cr√©ation des fichiers backend pour g√©rer les vues des vid√©os. Modification de index.html pour int√©grer la fonctionnalit√© d'incr√©mentation des vues et mise √† jour du script de d√©ploiement pour exposer les ports n√©cessaires. Ajout d'une nouvelle vid√©o.)
						<source src="/videos/Video4.mp4" type="video/mp4">
						Votre navigateur ne supporte pas la lecture vid√©o.
					</video>
					<div class="video-info">
						<h3>Silly car</h3>
<<<<<<< HEAD
						<span class="view-count"></span>
					</div>
				</div>

				<div class="video-item" data-video-id="video5">
					<video controls>
=======
						<span>Vues : <span id="views-4">0</span></span>
					</div>
				</div>

				<!-- Vid√©o 5 -->
				<div class="video-item">
					<video controls onclick="incrementView('5')">
>>>>>>> a5b61bc (Mise √† jour du Dockerfile pour installer Apache, Node.js et Redis, ajout des scripts de d√©marrage, et cr√©ation des fichiers backend pour g√©rer les vues des vid√©os. Modification de index.html pour int√©grer la fonctionnalit√© d'incr√©mentation des vues et mise √† jour du script de d√©ploiement pour exposer les ports n√©cessaires. Ajout d'une nouvelle vid√©o.)
						<source src="/videos/Video5.mp4" type="video/mp4">
						Votre navigateur ne supporte pas la lecture vid√©o.
					</video>
					<div class="video-info">
						<h3>Mael is calling</h3>
<<<<<<< HEAD
						<span class="view-count"></span>
					</div>
				</div>

				<div class="video-item" data-video-id="video6">
					<video controls>
=======
						<span>Vues : <span id="views-5">0</span></span>
					</div>
				</div>

				<!-- Vid√©o 6 -->
				<div class="video-item">
					<video controls onclick="incrementView('6')">
>>>>>>> a5b61bc (Mise √† jour du Dockerfile pour installer Apache, Node.js et Redis, ajout des scripts de d√©marrage, et cr√©ation des fichiers backend pour g√©rer les vues des vid√©os. Modification de index.html pour int√©grer la fonctionnalit√© d'incr√©mentation des vues et mise √† jour du script de d√©ploiement pour exposer les ports n√©cessaires. Ajout d'une nouvelle vid√©o.)
						<source src="/videos/Video6.mp4" type="video/mp4">
						Votre navigateur ne supporte pas la lecture vid√©o.
					</video>
					<div class="video-info">
						<h3>Les as de la jungles</h3>
<<<<<<< HEAD
						<span class="view-count"></span>
					</div>
				</div>

				<div class="video-item" data-video-id="video7">
					<video controls>
=======
						<span>Vues : <span id="views-6">0</span></span>
					</div>
				</div>

				<!-- Vid√©o 7 -->
				<div class="video-item">
					<video controls onclick="incrementView('7')">
>>>>>>> a5b61bc (Mise √† jour du Dockerfile pour installer Apache, Node.js et Redis, ajout des scripts de d√©marrage, et cr√©ation des fichiers backend pour g√©rer les vues des vid√©os. Modification de index.html pour int√©grer la fonctionnalit√© d'incr√©mentation des vues et mise √† jour du script de d√©ploiement pour exposer les ports n√©cessaires. Ajout d'une nouvelle vid√©o.)
						<source src="/videos/Video7.mp4" type="video/mp4">
						Votre navigateur ne supporte pas la lecture vid√©o.
					</video>
					<div class="video-info">
						<h3>Dalty cheat</h3>
<<<<<<< HEAD
						<span class="view-count"></span>
					</div>
				</div>

				<div class="video-item" data-video-id="video8">
					<video controls>
=======
						<span>Vues : <span id="views-7">0</span></span>
					</div>
				</div>

				<!-- Vid√©o 8 -->
				<div class="video-item">
					<video controls onclick="incrementView('8')">
>>>>>>> a5b61bc (Mise √† jour du Dockerfile pour installer Apache, Node.js et Redis, ajout des scripts de d√©marrage, et cr√©ation des fichiers backend pour g√©rer les vues des vid√©os. Modification de index.html pour int√©grer la fonctionnalit√© d'incr√©mentation des vues et mise √† jour du script de d√©ploiement pour exposer les ports n√©cessaires. Ajout d'une nouvelle vid√©o.)
						<source src="/videos/Video8.mp4" type="video/mp4">
						Votre navigateur ne supporte pas la lecture vid√©o.
					</video>
					<div class="video-info">
						<h3>Lava Chicken</h3>
<<<<<<< HEAD
						<span class="view-count"></span>
=======
						<span>Vues : <span id="views-8">0</span></span>
>>>>>>> a5b61bc (Mise √† jour du Dockerfile pour installer Apache, Node.js et Redis, ajout des scripts de d√©marrage, et cr√©ation des fichiers backend pour g√©rer les vues des vid√©os. Modification de index.html pour int√©grer la fonctionnalit√© d'incr√©mentation des vues et mise √† jour du script de d√©ploiement pour exposer les ports n√©cessaires. Ajout d'une nouvelle vid√©o.)
					</div>
				</div>
			</div>
		</div>

		<div class="advertisement">
			<p>Advertisement</p>
			<div class="ad-placeholder"></div>
		</div>
	</main>
<<<<<<< HEAD
=======
	<footer>
		<h3>&copy; RotHub 2025<h3>
	</footer>

	<script>
		async function incrementView(videoId) {
			try {
				// Incr√©menter les vues
				await fetch(`http://di-docker:3000/video/${videoId}/view`, { method: 'POST' });

				// R√©cup√©rer les vues mises √† jour
				const response = await fetch(`http://di-docker:3000/video/${videoId}/views`);
				const data = await response.json();

				// Mettre √† jour l'affichage des vues
				document.getElementById(`views-${videoId}`).textContent = data.views;
			} catch (error) {
				console.error('Erreur lors de la mise √† jour des vues :', error);
			}
		}
	</script>
</body>
>>>>>>> a5b61bc (Mise √† jour du Dockerfile pour installer Apache, Node.js et Redis, ajout des scripts de d√©marrage, et cr√©ation des fichiers backend pour g√©rer les vues des vid√©os. Modification de index.html pour int√©grer la fonctionnalit√© d'incr√©mentation des vues et mise √† jour du script de d√©ploiement pour exposer les ports n√©cessaires. Ajout d'une nouvelle vid√©o.)

	<footer>
		<h3>&copy; RotHub 2025</h3>
	</footer>

	<script>
		async function incrementView(videoId) {
			try {
				// Incr√©menter les vues
				await fetch(`http://localhost:3000/video/${videoId}/view`, { method: 'POST' });

				// R√©cup√©rer les vues mises √† jour
				updateViews(videoId);
			} catch (error) {
				console.error('Erreur lors de la mise √† jour des vues :', error);
			}
		}

		async function updateViews(videoId) {
			try {
				// R√©cup√©rer les vues depuis le backend
				const response = await fetch(`http://localhost:3000/video/${videoId}/views`);
				const data = await response.json();

				// Mettre √† jour l'affichage des vues
				document.getElementById(`views-${videoId}`).textContent = data.views;
			} catch (error) {
				console.error('Erreur lors de la r√©cup√©ration des vues :', error);
			}
		}

		// Initialiser les vues pour toutes les vid√©os
		async function initializeViews() {
			const videoIds = ['1', '2']; // Ajoutez les IDs de toutes vos vid√©os ici
			for (const videoId of videoIds) {
				await updateViews(videoId);
			}
		}

		// Charger les vues au d√©marrage
		initializeViews();
	</script>
	</body>
	
	</html>